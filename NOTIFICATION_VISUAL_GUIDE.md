# ğŸ¨ Notification Visual Guide - Before & After

## Before (Icon-Based)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” Notifications                       [3]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  [ğŸ””]  New Comment                               â”‚
â”‚        John Doe commented on your post          â”‚
â”‚        2 minutes ago                             â”‚
â”‚                                                  â”‚
â”‚  [ğŸ””]  New Reaction                              â”‚
â”‚        Jane Smith reacted to your post          â”‚
â”‚        5 minutes ago                             â”‚
â”‚                                                  â”‚
â”‚  [ğŸ””]  You were mentioned                        â”‚
â”‚        Bob mentioned you in a comment           â”‚
â”‚        10 minutes ago                            â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
âŒ **Problem**: All notifications look the same - just bell icons

---

## After (Avatar-Based)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” Notifications                       [3]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  [ğŸ‘¤]  New Comment                        [â€¢]   â”‚
â”‚  John  John Doe commented on your post          â”‚
â”‚        "Great post! I totally agree..."         â”‚
â”‚        2 minutes ago                             â”‚
â”‚                                                  â”‚
â”‚  [ğŸ‘©]  New Reaction                       [â€¢]   â”‚
â”‚  Jane  Jane Smith reacted ğŸ‘ to your post       â”‚
â”‚        "Reacted with like"                      â”‚
â”‚        5 minutes ago                             â”‚
â”‚                                                  â”‚
â”‚  [ğŸ‘¨]  You were mentioned                 [â€¢]   â”‚
â”‚   Bob  Bob Johnson mentioned you                â”‚
â”‚        "@yourname check this out!"              â”‚
â”‚        10 minutes ago                            â”‚
â”‚                                                  â”‚
â”‚  [ğŸ“‹]  New Survey Available                     â”‚
â”‚        Please complete the alumni survey        â”‚
â”‚        1 day ago                                 â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
âœ… **Solution**: See WHO triggered each notification!

---

## Notification Types

### 1. Comment Notification
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•­â”€â”€â”€â”€â•®                              â”‚
â”‚  â”‚ ğŸ‘¤ â”‚  John Doe commented          â”‚
â”‚  â”‚Johnâ”‚  on your post                â”‚
â”‚  â•°â”€â”€â”€â”€â•¯  "Nice work!"                â”‚
â”‚          2 min ago              [â€¢]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Shows commenter's avatar
- Shows their name
- Shows comment preview
- Blue dot = unread

### 2. Reaction Notification
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•­â”€â”€â”€â”€â•®                              â”‚
â”‚  â”‚ ğŸ‘© â”‚  Jane Smith reacted ğŸ‘       â”‚
â”‚  â”‚Janeâ”‚  to your post                â”‚
â”‚  â•°â”€â”€â”€â”€â•¯  "Reacted with like"         â”‚
â”‚          5 min ago              [â€¢]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Shows reactor's avatar
- Shows reaction emoji
- Blue dot = unread

### 3. Mention Notification
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•­â”€â”€â”€â”€â•®                              â”‚
â”‚  â”‚ ğŸ‘¨ â”‚  Bob Johnson mentioned you   â”‚
â”‚  â”‚ Bobâ”‚  in a comment                â”‚
â”‚  â•°â”€â”€â”€â”€â•¯  "@yourname check this!"     â”‚
â”‚          10 min ago             [â€¢]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Shows mentioner's avatar
- Shows mention context
- Blue dot = unread

### 4. Reply Notification
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•­â”€â”€â”€â”€â•®                              â”‚
â”‚  â”‚ ğŸ‘¤ â”‚  Sarah Lee replied           â”‚
â”‚  â”‚Saraâ”‚  to your comment             â”‚
â”‚  â•°â”€â”€â”€â”€â•¯  "I agree with you!"         â”‚
â”‚          15 min ago             [â€¢]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Shows replier's avatar
- Shows reply preview
- Blue dot = unread

### 5. System Notification (No Avatar)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•­â”€â”€â”€â”€â•®                              â”‚
â”‚  â”‚ ğŸ”” â”‚  System Maintenance          â”‚
â”‚  â”‚Sys â”‚  scheduled tonight           â”‚
â”‚  â•°â”€â”€â”€â”€â•¯  "Down at 12 AM"             â”‚
â”‚          1 hour ago                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- No user avatar (system notification)
- Shows bell icon instead
- No blue dot (already read)

### 6. Survey Notification (No Actor)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•­â”€â”€â”€â”€â•®                              â”‚
â”‚  â”‚ ğŸ“‹ â”‚  New Survey Available        â”‚
â”‚  â”‚Srv â”‚  Alumni Feedback 2025        â”‚
â”‚  â•°â”€â”€â”€â”€â•¯  "Please participate"        â”‚
â”‚          1 day ago                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Shows survey icon (no user triggered it)
- Different icon than system
- No blue dot (already read)

---

## Avatar States

### âœ… User Has Avatar
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  Photo  â”‚  â† User's actual profile picture
â”‚  Here   â”‚     (10x10 rounded circle)
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### âŒ User Has No Avatar / Error Loading
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚    ğŸ‘¤   â”‚  â† Default avatar icon
â”‚         â”‚     (fallback image)
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### ğŸ”” System Notification (No Actor)
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚    ğŸ””   â”‚  â† Bell icon for system
â”‚         â”‚     (no user involved)
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### ğŸ“‹ Survey Notification (No Actor)
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚    ğŸ“‹   â”‚  â† Document icon for surveys
â”‚         â”‚     (admin published, not a user)
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

---

## Data Flow

```
User Action                Backend                    Frontend
    â”‚                         â”‚                           â”‚
    â”œâ”€ Comments on post       â”‚                           â”‚
    â”‚                         â”‚                           â”‚
    â”‚                         â”œâ”€ Signal handler fires     â”‚
    â”‚                         â”‚  with actor=comment.user  â”‚
    â”‚                         â”‚                           â”‚
    â”‚                         â”œâ”€ Create notification      â”‚
    â”‚                         â”‚  {                        â”‚
    â”‚                         â”‚    user: post_author,     â”‚
    â”‚                         â”‚    actor: commenter,   â†â”€â”€â”¼â”€â”€ NEW!
    â”‚                         â”‚    title: "New Comment",  â”‚
    â”‚                         â”‚    ...                    â”‚
    â”‚                         â”‚  }                        â”‚
    â”‚                         â”‚                           â”‚
    â”‚                         â”œâ”€ Serializer adds:         â”‚
    â”‚                         â”‚  - actor_name             â”‚
    â”‚                         â”‚  - actor_avatar        â†â”€â”€â”¼â”€â”€ NEW!
    â”‚                         â”‚                           â”‚
    â”‚                         â”œâ”€ WebSocket broadcast      â”‚
    â”‚                         â”‚                           â”‚
    â”‚                         â”‚                           â”œâ”€ Receive notification
    â”‚                         â”‚                           â”‚  {
    â”‚                         â”‚                           â”‚    actor_name: "John Doe",
    â”‚                         â”‚                           â”‚    actor_avatar: "/media/...",
    â”‚                         â”‚                           â”‚    ...
    â”‚                         â”‚                           â”‚  }
    â”‚                         â”‚                           â”‚
    â”‚                         â”‚                           â”œâ”€ Display avatar
    â”‚                         â”‚                           â”‚  <img :src="actor_avatar">
    â”‚                         â”‚                           â”‚
    â”‚                         â”‚                           â”œâ”€ Show in notification bell
    â”‚                         â”‚                           â”‚  [ğŸ‘¤ John] New Comment
```

---

## Code Comparison

### Before
```javascript
// Generic icon for all notifications
<div class="w-8 h-8 bg-blue-100 rounded-full">
  <svg><!-- Bell icon --></svg>
</div>
```

### After
```javascript
// User avatar with fallback
<img 
  v-if="notification.actor_avatar"
  :src="getActorAvatarUrl(notification.actor_avatar)"
  :alt="notification.actor_name"
  class="w-10 h-10 rounded-full"
/>
<div 
  v-else
  class="w-10 h-10 bg-blue-100 rounded-full">
  <svg><!-- Icon based on type --></svg>
</div>
```

---

## Benefits

âœ… **More Personal**: See WHO did the action  
âœ… **Better Context**: Avatar + name = instant recognition  
âœ… **Professional Look**: Real photos instead of icons  
âœ… **Consistent UX**: Matches profile pictures elsewhere  
âœ… **Backward Compatible**: Old notifications still work  
âœ… **Fallback Safe**: Shows icon if avatar missing  

---

## Database Schema

### Before
```sql
Notification:
  - id
  - user_id          â† Who receives the notification
  - type
  - title
  - message
  - created_at
  - read_at
```

### After
```sql
Notification:
  - id
  - user_id          â† Who receives the notification
  - actor_id         â† NEW! Who triggered it
  - type
  - title
  - message
  - created_at
  - read_at
```

---

## API Response

### Before
```json
{
  "id": 1,
  "type": "post",
  "title": "New Comment",
  "message": "John Doe commented on your post",
  "time_ago": "2 minutes ago"
}
```

### After
```json
{
  "id": 1,
  "type": "post",
  "title": "New Comment",
  "message": "John Doe commented on your post",
  "time_ago": "2 minutes ago",
  "actor_name": "John Doe",              â† NEW!
  "actor_avatar": "/media/john.jpg"      â† NEW!
}
```

---

## User Experience

### Old Way
```
User sees: "New Comment"
User thinks: "Okay, someone commented... who?"
User clicks: Opens notification to see who
```

### New Way
```
User sees: [John's face] "New Comment"
User thinks: "Oh, John commented!"
User clicks: (already knows who, just needs to see what)
```

**Result**: Faster comprehension, better UX! ğŸ‰
